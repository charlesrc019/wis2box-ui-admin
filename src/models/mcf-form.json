{
    "version": "1.0",
    "type": "object",
    "properties": {
        "meta": {
            "type": "object",
            "title": "Metadata",
            "description": "Metadata Information",
            "properties": {
                "country": {
                    "type": "string",
                    "description": "Lower case representation of ISO3166 3-letter code.",
                    "pattern": "^[a-z]{3}$",
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid 3-letter code."
                        }
                    }
                },
                "centre_id": {
                    "type": "string",
                    "description": "Agency acronym (in lower case), as specified by member.",
                    "pattern": "^[a-z]{2,}$",
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid agency name."
                        }
                    }
                },
                "retention": {
                    "type": "string",
                    "description": "Minimum length of time data should be retained in WIS2.",
                    "default": "30d",
                    "enum": [
                        "1h",
                        "1d",
                        "7d",
                        "14d",
                        "30d"
                    ],
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid retention option."
                        }
                    }
                },
                "language": {
                    "type": "string",
                    "description": "Lower case representation of language in 2-letter code.",
                    "pattern": "^[a-z]{2}$",
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid 2-letter code."
                        }
                    }
                },
                "charset": {
                    "type": "string",
                    "description": "Encoding used in data.",
                    "x-cols": 4,
                    "enum": [
                        "utf8",
                        "utf16",
                        "ascii"
                    ]
                },
                "hierarchylevel": {
                    "type": "string",
                    "description": "Level to which the metadata applies.",
                    "x-cols": 4,
                    "enum": [
                        "series",
                        "software",
                        "featureType",
                        "model",
                        "collectionHardware",
                        "collectionSession",
                        "nonGeographicDataset",
                        "propertyType",
                        "fieldSession",
                        "dataset",
                        "service",
                        "attribute",
                        "attributeType",
                        "tile",
                        "feature",
                        "dimensionGroup"
                    ]
                }
            },
            "required": [
                "country",
                "centre_id",
                "retention",
                "language",
                "charset",
                "hierarchylevel"
            ]
        },
        "identification": {
            "type": "object",
            "title": "Data",
            "description": "Data Information",
            "properties": {
                "title": {
                    "type": "string",
                    "description": "Name of data."
                },
                "abstract": {
                    "type": "string",
                    "description": "Brief description of data."
                },
                "wmo_keywords": {
                    "type": "array",
                    "description": "WMO data keywords.",
                    "x-cols": 6,
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                        "type": "string",
                        "enum": [
                            "weatherObservations",
                            "weatherForecasts",
                            "meteorology",
                            "hydrology",
                            "climatology",
                            "landMeterorologyClimate",
                            "synopticMeteorology",
                            "marineMeteorology",
                            "agriculturalMeteorology",
                            "aerology",
                            "marineAerology",
                            "oceanography",
                            "landHydrology",
                            "rocketSounding",
                            "pollution",
                            "waterPollution",
                            "landWaterPollution",
                            "seaPollution",
                            "landPollution",
                            "airPollution",
                            "glaciology",
                            "actinometry",
                            "satelliteObservations",
                            "airplaneObservation",
                            "observationPlatform",
                            "spaceWeather",
                            "atmosphericComposition",
                            "radiation"
                        ]
                    }
                },
                "search_keywords": {
                    "type": "array",
                    "description": "Search keywords for data.",
                    "x-cols": 6,
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                        "type": "string"
                    }
                },
                "url": {
                    "type": "string",
                    "description": "URI where data can be accessed (including 'http://' or 'https://').",
                    "pattern": "^https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$",
                    "x-cols": 9,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid URI."
                        }
                    }
                },
                "wmo_data_policy": {
                    "type": "string",
                    "description": "Priority of data within WMO.",
                    "x-cols": 3,
                    "enum": [
                        "core",
                        "recommended"
                    ]
                },
                "topmost_latitude": {
                    "type": "number",
                    "description": "The top-most latitude to which data applies.",
                    "x-cols": 3,
                    "minimum": -90,
                    "maximum": 90
                },
                "bottommost_latitude": {
                    "type": "number",
                    "description": "The bottom-most latitude to which data applies.",
                    "x-cols": 3,
                    "minimum": -90,
                    "maximum": 90
                },
                "leftmost_longitude": {
                    "type": "number",
                    "description": "The left-most longitude to which data applies.",
                    "x-cols": 3,
                    "minimum": -180,
                    "maximum": 180
                },
                "rightmost_longitude": {
                    "type": "number",
                    "description": "The right-most longitude to which data applies.",
                    "x-cols": 3,
                    "minimum": -180,
                    "maximum": 180
                },
                "date_started": {
                    "type": "string",
                    "description": "Date on which data collection started.",
                    "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid date format."
                        }
                    }
                },
                "date_ended": {
                    "type": "string",
                    "description": "Date on which data collection ended. (Leave blank if ongoing.)",
                    "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid date format."
                        }
                    }
                },
                "resolution": {
                    "type": "string",
                    "description": "Frequency of data.",
                    "default": "1h",
                    "enum": [
                        "5m",
                        "15m",
                        "1h",
                        "1d",
                        "7d",
                        "30d"
                    ],
                    "x-cols": 4,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid resolution option."
                        }
                    }
                }
            },
            "required": [
                "title",
                "abstract",
                "wmo_keywords",
                "search_keywords",
                "url",
                "wmo_data_policy",
                "topmost_latitude",
                "bottommost_latitude",
                "leftmost_longitude",
                "rightmost_longitude",
                "date_started",
                "resolution"
            ]
        },
        "poc": {
            "type": "object",
            "title": "Contact",
            "description": "Point of Contact Information",
            "properties": {
                "organization": {
                    "type": "string",
                    "description": "Organization name."
                },
                "url": {
                    "type": "string",
                    "description": "Organization website (including 'http://' or 'https://').",
                    "pattern": "^https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid website URL."
                        }
                    }
                },
                "individualname": {
                    "type": "string",
                    "description": "Full name.",
                    "x-cols": 6
                },
                "positionname": {
                    "type": "string",
                    "description": "Position held.",
                    "x-cols": 6
                },
                "phone": {
                    "type": "string",
                    "description": "Full international phone number with exit code.",
                    "pattern": "^\\+[0-9]+[0-9\\s\\.()-]{10,}$",
                    "x-cols": 6,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid phone number."
                        }
                    }
                },
                "fax": {
                    "type": "string",
                    "description": "Full international fax number with exit code.",
                    "pattern": "^\\+[0-9]+[0-9\\s\\.()-]{10,}$",
                    "x-cols": 6,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid fax number."
                        }
                    }
                },
                "address": {
                    "type": "string",
                    "description": "Full mailing address."
                },
                "city": {
                    "type": "string",
                    "description": "Mailing city.",
                    "x-cols": 6
                },
                "postalcode": {
                    "type": "string",
                    "description": "Mailing postal code.",
                    "x-cols": 6
                },
                "administrativearea": {
                    "type": "string",
                    "description": "Mailing state or region.",
                    "x-cols": 6
                },
                "country": {
                    "type": "string",
                    "description": "Mailing country.",
                    "x-cols": 6
                },
                "email": {
                    "type": "string",
                    "description": "Contact email address.",
                    "pattern": "^[a-z0-9\\._-]+@[a-z0-9-]+\\.[a-z0-9\\.-]+$",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid email."
                        }
                    }
                },
                "hoursofservice": {
                    "type": "string",
                    "description": "Normal weekday contact hours. (In 24hr format with timezone code.)",
                    "pattern": "^[0-9]{4}h\\s-\\s[0-9]{4}h\\s[A-Z0-9]{3}$",
                    "default": "0900h - 1700h UTC",
                    "x-cols": 6,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid time range."
                        }
                    }
                },
                "contactinstructions": {
                    "type": "string",
                    "description": "Preffered contact method.",
                    "x-cols": 6,
                    "enum": [
                        "email",
                        "phone",
                        "fax"
                    ]
                }
            },
            "required": [
                "organization",
                "url",
                "individualname",
                "positionname",
                "phone",
                "city",
                "administrativearea",
                "country",
                "email",
                "hoursofservice",
                "contactinstructions"
            ]
        },
        "distrib": {
            "type": "object",
            "title": "Distributor",
            "description": "Distributor Contact Information",
            "properties": {
                "duplicate_from_poc": {
                    "type": "boolean",
                    "description": "Use point of contact information as distributor information too."
                },
                "organization": {
                    "type": "string",
                    "description": "Organization name."
                },
                "url": {
                    "type": "string",
                    "description": "Organization website (including 'http://' or 'https://').",
                    "pattern": "^https?:\\/\\/[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid website URL."
                        }
                    }
                },
                "individualname": {
                    "type": "string",
                    "description": "Full name.",
                    "x-cols": 6
                },
                "positionname": {
                    "type": "string",
                    "description": "Position held.",
                    "x-cols": 6
                },
                "phone": {
                    "type": "string",
                    "description": "Full international phone number with exit code.",
                    "pattern": "^\\+[0-9]+[0-9\\s\\.()-]{10,}$",
                    "x-cols": 6,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid phone number."
                        }
                    }
                },
                "fax": {
                    "type": "string",
                    "description": "Full international fax number with exit code.",
                    "pattern": "^\\+[0-9]+[0-9\\s\\.()-]{10,}$",
                    "x-cols": 6,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid fax number."
                        }
                    }
                },
                "address": {
                    "type": "string",
                    "description": "Full mailing address."
                },
                "city": {
                    "type": "string",
                    "description": "Mailing city.",
                    "x-cols": 6
                },
                "postalcode": {
                    "type": "string",
                    "description": "Mailing postal code.",
                    "x-cols": 6
                },
                "administrativearea": {
                    "type": "string",
                    "description": "Mailing state or region.",
                    "x-cols": 6
                },
                "country": {
                    "type": "string",
                    "description": "Mailing country.",
                    "x-cols": 6
                },
                "email": {
                    "type": "string",
                    "description": "Contact email address.",
                    "pattern": "^[a-z0-9\\._-]+@[a-z0-9-]+\\.[a-z0-9\\.-]+$",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid email."
                        }
                    }
                },
                "hoursofservice": {
                    "type": "string",
                    "description": "Normal weekday contact hours. (In 24hr format, with timezone code.)",
                    "pattern": "^[0-9]{4}h\\s-\\s[0-9]{4}h\\s[A-Z0-9]{3}$",
                    "default": "0900h - 1700h UTC",
                    "x-cols": 6,
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid time range."
                        }
                    }
                },
                "contactinstructions": {
                    "type": "string",
                    "description": "Preffered contact method.",
                    "x-cols": 6,
                    "enum": [
                        "email",
                        "phone",
                        "fax"
                    ]
                }
            },
            "required": [
                "organization",
                "url",
                "individualname",
                "positionname",
                "phone",
                "city",
                "administrativearea",
                "country",
                "email",
                "hoursofservice",
                "contactinstructions"
            ]
        },
        "identifiers": {
            "type": "object",
            "title": "Identifiers",
            "description": "WIS2 Hierarchy Identification",
            "properties": {
                "topic_hierarchy": {
                    "type": "string",
                    "pattern": "^[a-z]{3}\\.[_a-z]+\\.(data|metadata|reports)\\.(core|reccomended)\\.[\\w]+\\.[\\w-]+[\\.\\w]*$",
                    "description": "Unique identifier for this metadata file.",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid topic hierarchy."
                        }
                    }
                },
                "identifier": {
                    "type": "string",
                    "description": "Unique identifier for this file. (Usually similar to the topic hierarchy. Must begin with 'urn:x-wmo:md:'.)",
                    "pattern": "^urn:x-wmo:md:[a-z]{3}:[a-z0-9_-]+:[a-z0-9_-]+[a-z0-9:]*$",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid unique identifier."
                        }
                    }
                },
                "date_published": {
                    "type": "string",
                    "description": "Date on which the data publishing to WIS2 will start.",
                    "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                    "x-options":{
                        "messages":  {
                            "pattern":  "Invalid date format."
                        }
                    }
                }
            },
            "required": [
                "topic_hierarchy",
                "identifier",
                "date_published"
            ]
        }
    }
}